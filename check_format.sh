#!/bin/bash

echo "Запуск проверки формата .txt файлов..."

for file in $(find . -name "*.txt" -type f); do
    echo "Проверка файла: $file"
    
    # Проверка 1: Файл существует и не пустой (содержит данные)
    if [ ! -s "$file" ]; then
        echo "Файл $file пустой (нулевой размер)!"
        exit 1
    fi
    
    # Проверка 2: Файл содержит хотя бы один непробельный символ
    if ! grep -q '[[:graph:]]' "$file"; then
        echo "Файл $file не содержит текста (только пробелы/пустые строки)!"
        exit 1
    fi
    
    echo "Файл $file прошел проверку"
done

echo "Все .txt файлы соответствуют формату!"
exit 0
